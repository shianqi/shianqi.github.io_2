<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>shianqi's website</title>
        <script src="bower_components/react/react.js"></script>
        <script src="bower_components/react/react-dom.js"></script>
        <script src="bower_components/jquery/dist/jquery.min.js"></script>
        <script src="lib/browser.min.js"></script>
        <link rel="stylesheet" href="css/app.css">
    </head>
    <body>
    <canvas id="canvas">不支持Canvas</canvas>
        <div id="app">
            <p>
                To install React, follow the instructions on
                <a href="https://github.com/facebook/react/">GitHub</a>.
            </p>
            <p>
                If you can see this, React is <strong>not</strong> working right.
                If you checked out the source from GitHub make sure to run <code>grunt</code>.
            </p>
        </div>
    </body>

    <!--<script type="text/babel" src="app.js"></script>-->
    <script type="text/javascript">
        var canvas = document.getElementById("canvas");
        var context = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        onresize = function () {
            canvas.width = window.innerWidth ;
            canvas.height = window.innerHeight;
        };
        document.documentElement.style.overflowY = 'hidden';
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

        var rand = function( min, max ){
            return Math.random() * ( max - min) + min;
        };

        //点
        var Point = function () {
            this.x = 0;
            this.y = 0;
            this.dx = 0;
            this.dy = 0;
            this.init();
        };

        Point.prototype.draw = function () {
            console.log("1");
            context.fillStyle="#70C1B7";
            if(this.x>canvas.width){
                this.dx=-1*Math.abs(this.dx);
            }
            if(this.y>canvas.height){
                this.dy=-1*Math.abs(this.dy);
            }
            if(this.x<0){
                this.dx=Math.abs(this.dx);
            }
            if(this.y<0){
                this.dy=Math.abs(this.dy);
            }
            this.x+=this.dx;
            this.y+=this.dy;
            context.arc(this.x,this.y,2,0,2*Math.PI,false);
            context.fill();
            context.closePath();
        };

        Point.prototype.init = function () {
            this.x = rand(0,canvas.width);
            this.y = rand(0,canvas.height);
            this.dx = rand(1,10);
            this.dy = rand(1,10);
        };

        //整体画布
        var Net = function () {
            this.points = [];
        };

        Net.prototype.drawPage = function () {
            for(var i=0;i<50;i++){
                this.points[i].draw();
            }
            console.log(this.points.length);
            requestAnimationFrame(this.drawPage);
        };

        Net.prototype.start = function () {
            for(var i=1;i<50;i++){
                this.addPoint();
            }
            this.drawPage();
        };

        Net.prototype.addPoint = function () {
            console.log(this.points.length);
            this.points.push(new Point());
        };

        var myNet = new Net();
        myNet.start();
    </script>
</html>